<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Docker on My Homelab Docs</title>
    <link>http://localhost:1313/categories/docker/</link>
    <description>Recent content in Docker on My Homelab Docs</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 26 May 2025 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/categories/docker/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Traefik Reverse Proxy</title>
      <link>http://localhost:1313/docs/traefik/</link>
      <pubDate>Mon, 26 May 2025 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/docs/traefik/</guid>
      <description>&lt;h1 id=&#34;traefik-reverse-proxy&#34;&gt;&#xA;  Traefik Reverse Proxy&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#traefik-reverse-proxy&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;overview&#34;&gt;&#xA;  Overview&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#overview&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;blockquote class=&#34;book-hint info&#34;&gt;&#xA;  &#xA;This document details the Traefik reverse proxy configuration for homelab services with separate internal and external access paths.&#xA;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/M7mdBinGhaith/homelab/18eea4d899108f13c3865dacda952ae65f7939b3/compose-stacks/traefik/entrypoint.svg&#34; alt=&#34;Diagram&#34; /&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://traefik.io/&#34;&gt;Traefik&lt;/a&gt; serves as the central gateway for all web services in the homelab, providing:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Automatic HTTPS with Cloudflare DNS validation&lt;/li&gt;&#xA;&lt;li&gt;Separate entrypoints for internal and external access&lt;/li&gt;&#xA;&lt;li&gt;Protected dashboard interface&lt;/li&gt;&#xA;&lt;li&gt;Docker service auto-discovery&lt;/li&gt;&#xA;&lt;li&gt;Integration with authentication services&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;architecture&#34;&gt;&#xA;  Architecture&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#architecture&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;blockquote class=&#34;book-hint &#34;&gt;&#xA;  &#xA;The external entrypoint relies on firewall port forwarding from 443 to 444, keeping internal and external traffic separate.&#xA;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;h3 id=&#34;components&#34;&gt;&#xA;  Components&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#components&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Traefik Proxy&lt;/strong&gt;: Main reverse proxy service&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Docker Integration&lt;/strong&gt;: Service auto-discovery&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Cloudflare DNS&lt;/strong&gt;: Certificate issuance and validation&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;network-design&#34;&gt;&#xA;  Network Design&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#network-design&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Internal Access&lt;/strong&gt;: Standard ports 80/443 for local network&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;External Access&lt;/strong&gt;: Ports 81/444 for internet access&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Security Separation&lt;/strong&gt;: Distinct handling of internal vs external entrypoints&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;setup&#34;&gt;&#xA;  Setup&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#setup&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;prerequisites&#34;&gt;&#xA;  Prerequisites&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#prerequisites&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Docker and Docker Compose&lt;/li&gt;&#xA;&lt;li&gt;External Docker network named &amp;ldquo;proxy&amp;rdquo; created&lt;/li&gt;&#xA;&lt;li&gt;Cloudflare DNS configured for your domain&lt;/li&gt;&#xA;&lt;li&gt;Cloudflare API token with Dns zone edit permissions&lt;/li&gt;&#xA;&lt;li&gt;Basic understanding of Docker networks and labels&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;installation-steps&#34;&gt;&#xA;  Installation Steps&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#installation-steps&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h3&gt;&#xA;&lt;h4 id=&#34;1-directory-structure&#34;&gt;&#xA;  1. Directory Structure&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#1-directory-structure&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h4&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir -p /your/path/traefik/data&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;touch /your/path/traefik/data/acme.json&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chmod &lt;span style=&#34;color:#ae81ff&#34;&gt;600&lt;/span&gt; /your/path/traefik/data/acme.json&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;2-cloudflare-api-token&#34;&gt;&#xA;  2. Cloudflare API Token&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#2-cloudflare-api-token&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h4&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;your-cloudflare-api-token&amp;#34;&lt;/span&gt; &amp;gt; /your/path/traefik/cf_api_token.txt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;3-environment-file&#34;&gt;&#xA;  3. Environment File&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#3-environment-file&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h4&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Generate with: echo $(htpasswd -nb user password)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;TRAEFIK_DASHBOARD_CREDENTIALS&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;user:hashed_password&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;4-static-configuration&#34;&gt;&#xA;  4. Static Configuration&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#4-static-configuration&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h4&gt;&#xA;&lt;p&gt;Save this as &lt;code&gt;/your/path/traefik/data/traefik.yml&lt;/code&gt;:&lt;/p&gt;</description>
    </item>
    <item>
      <title>Authentik Behind Traefik Reverse Proxy</title>
      <link>http://localhost:1313/docs/authentik/</link>
      <pubDate>Mon, 26 May 2025 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/docs/authentik/</guid>
      <description>&lt;h1 id=&#34;authentik-behind-traefik-reverse-proxy&#34;&gt;&#xA;  Authentik Behind Traefik Reverse Proxy&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#authentik-behind-traefik-reverse-proxy&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/docs/traefik/&#34;&gt;Traefik Reverse Proxy Setup&lt;/a&gt; - Required foundation for this Authentik deployment&lt;/p&gt;&#xA;&lt;h2 id=&#34;overview&#34;&gt;&#xA;  Overview&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#overview&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;blockquote class=&#34;book-hint info&#34;&gt;&#xA;  &#xA;This guide walks through setting up Authentik SSO behind a Traefik reverse proxy.&#xA;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/M7mdBinGhaith/homelab/18eea4d899108f13c3865dacda952ae65f7939b3/compose-stacks/authentik/auth.svg&#34; alt=&#34;Diagram&#34; /&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://goauthentik.io/&#34;&gt;Authentik&lt;/a&gt; is an open-source Identity Provider that provides secure authentication, authorization, and user management. This setup uses Docker Compose to deploy Authentik with PostgreSQL and Redis, all behind Traefik for secure access.&lt;/p&gt;&#xA;&lt;h2 id=&#34;architecture&#34;&gt;&#xA;  Architecture&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#architecture&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;The deployment consists of:&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
